<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¸ê³µì§€ëŠ¥ ê³¼ì¼ìƒ í…ŒìŠ¤íŠ¸-_-</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
</head>

<body>
  <div class="header">
    <h1>ğŸ“ğŸˆğŸ‡ê³¼ì¼ìƒ í…ŒìŠ¤íŠ¸ğŸğŸ’ğŸ‘</h1>
    <h3>ì–¼êµ´ë¡œ ë³´ëŠ” ì¸ê³µì§€ëŠ¥ ê³¼ì¼ìƒ í…ŒìŠ¤íŠ¸</h3>
  </div>
  <div class="container">
    <div id="upload-area" class="area">
      <span class="guide-image">ğŸ“¸</span>
      <br />
      <span>ì‚¬ì§„ì„ ì˜¬ë ¤ë†“ê±°ë‚˜ ëˆŒëŸ¬ì„œ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”!</span>
      <input id="upload-input" style="display: none;" type="file" accept="image/*" onchange="readFile(this.files[0]);" />
    </div>
    <div id="share-area" class="area">
      <h3>ê³¼ì¼ìƒ í…ŒìŠ¤íŠ¸ ê³µìœ í•˜ê¸°</h3>
      <div class="addthis_inline_share_toolbox"></div>
    </div>
    <div id="loading-area" class="area" style="display: none;">
      <span class="guide-image">ğŸŒ¹ğŸ˜‰</span>
      <br />
      <span>ì¸ê³µì§€ëŠ¥ ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</span>
    </div>
    <div id="result-area" class="area" style="display: none;">
      <img id="upload-image" src="#" alt="youra image" />
      <div id='label-container'></div>
    </div>
    <div id="retry-area" class="area" style="display: none;">
      <span>ë‹¤ë¥¸ ì‚¬ì§„ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ëˆŒëŸ¬ì£¼ì„¸ìš”!</span>
    </div>
  </div>
  <div id="disqus_thread"></div>


  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
  <script type="text/javascript">

    const URL = "https://teachablemachine.withgoogle.com/models/L70E2v9g3/";

    let model, webcam, labelContainer, maxPredictions;
    let isModelReady = false;
    let input = document.getElementById("upload-input");
    let image = document.getElementById("upload-image");
    let loadingArea = document.getElementById("loading-area");
    let uploadArea = document.getElementById("upload-area");
    let shareArea = document.getElementById("share-area");
    let resultArea = document.getElementById("result-area");
    let retryArea = document.getElementById("retry-area");
    const reader = new FileReader();

    async function readFile(file) {
      uploadArea.style.display = "none";
      shareArea.style.display = "none";
      if(isModelReady === false) {
        loadingArea.style.display = "block";
        await init()
      }
      reader.readAsDataURL(file);
    }

    reader.onload = async function(event) {
      await image.setAttribute('src', event.target.result);
      await predict();
      loadingArea.style.display = "none";
      resultArea.style.display = "block";
      retryArea.style.display = "block";
    };

    uploadArea.onclick = function() {
      input.click();        
    }

    uploadArea.ondragover = function(event) {
      event.preventDefault();        
    }

    uploadArea.ondrop = function(event) {
      event.preventDefault();
      const file = event.dataTransfer.files[0];
      readFile(file);
    }

    retryArea.onclick = function() {
      retryArea.style.display = "none";
      resultArea.style.display = "none";
      uploadArea.style.display = "block";
      shareArea.style.display = "block";
      input.value = "";
    }

    async function init() {
      const modelURL = URL + "model.json";
      const metadataURL = URL + "metadata.json";

      model = await tmImage.load(modelURL, metadataURL);
      maxPredictions = model.getTotalClasses();

      labelContainer = document.getElementById("label-container");
      for (let i = 0; i < maxPredictions + 1; i++) { 
            labelContainer.appendChild(document.createElement("div"));
      }
    }

    async function predict() {
      const prediction = await model.predict(image);
      prediction.sort((x, y) => y.probability - x.probability);

      switch (prediction[0].className) {
        case "ë©œë¡ ":
          labelContainer.childNodes[0].innerHTML = `<h3>ë‹¹ì‹ ì€ ë©œë¡ ìƒ!</h3>
                <p>ë‹¹ì‹ ì€ ê²‰ìœ¼ë¡œëŠ” ìƒë‹¹íˆ ë‹¤ì†Œê³³í•´ ë³´ì´ëŠ” íƒ€ì…ì´ì§€ë§Œ ë§ˆìŒì†ì—ëŠ” ì–¸ì œë‚˜ í° í¬ë¶€ë‚˜ ì´ìƒì„ í’ˆê³  ìˆëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
        ë‚¨ì´ í•˜ìëŠ” ëŒ€ë¡œ ë”°ë¼ê°€ê¸° ì‹«ì–´í•˜ë©°, ìê¸° ë‚˜ë¦„ëŒ€ë¡œì˜ ì´ìƒì´ë‚˜ ì‹ ë…ì„ ìœ„í•´ ì‚´ê³ ì ë…¸ë ¥í•˜ëŠ” ë‹¹ì‹ !
        ì´ëŸ° ì ë“¤ ë•Œë¬¸ì— ë‹¤ì†Œ ì™„ê³ í•˜ë‹¤ëŠ” ì–˜ê¸°ë¥¼ ë“£ê¸°ë„ í•˜ë„¤ìš”, ê¸ˆì „ì ì¸ ìš•êµ¬ ì—­ì‹œ ëˆ„êµ¬ë³´ë‹¤ ê°•í•˜ê³  ëˆì„ ë§ì´ ëª¨ìœ¼ë ¤ëŠ” ìš•ë§ì´ ë§ˆìŒì†ì— í¬ê²Œ ìë¦¬ ì¡ê³  ìˆë„¤ìš”. 
        ë˜, ì¬í…Œí¬ ë¶„ì•¼ì— ìƒë‹¹í•œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ëˆ„êµ¬ì—ê²Œ ì§€ëŠ” ê²ƒì„ ë§¤ìš° ì‹«ì–´í•˜ê³  ëª¨ë“  ì¼ì— ìµœê³ ê°€ ë˜ê¸¸ ê¿ˆê¾¸ëŠ” ì•¼ì‹¬ê°€ íƒ€ì…!</p>`;
          break;
        case "ì‚¬ê³¼":
          labelContainer.childNodes[0].innerHTML = `<h3>ë‹¹ì‹ ì€ ì‚¬ê³¼ìƒ!</h3>
                <p>ë‹¹ì‹ ì€ ëª¨ë“  ì¼ë“¤ì„ ì •í™•í•˜ê²Œ ì²˜ë¦¬í•´ì•¼ ì§ì„±ì´ í’€ë¦¬ëŠ” ì„±ì‹¤í•œ ì„±ê²©ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.
ì¦‰, ì ˆëŒ€ë¡œ ë¬´ë¦¬í•´ì„œ ì¼ì„ ì²˜ë¦¬í•˜ì§€ ì•Šê³  ì ë‹¹í•œ ì‹œê°„ì„ ë‘ê³  ê¼¼ê¼¼í•˜ê²Œ ì²´í¬í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. 
ì–´ë–¤ ê³¼ì œê°€ ì£¼ì–´ì¡Œì„ ë•Œ ë°¤ì„ ì§€ìƒˆìš°ë©° í•˜ê¸°ë³´ë‹¤ëŠ” ì¼ì •í•œ ì‹œê°„ì€ ì‰¬ê³  ì¼ì •í•œ ì‹œê°„ì— ì§‘ì¤‘í•´ì„œ ê³¼ì œë¥¼ ì™„ì„±í•´ëƒ…ë‹ˆë‹¤. 
ì›ƒì–´ë¥¸ì€ ê³µê²½í•˜ê³  ì˜ˆì˜ ë°”ë¥¸ ë‹¹ì‹ , ì˜ˆì˜ë‚˜ ë§¤ë„ˆì— ë¯¼ê°í•´ì„œ ê·¸ê²ƒì— ì–´ê¸‹ë‚˜ëŠ” ì‚¬ëŒë“¤ì„ êµ‰ì¥íˆ ì‹«ì–´í•©ë‹ˆë‹¤.
íŠ¹íˆ ë¶‰ì€ ì‚¬ê³¼ë¥¼ ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒì€ ëŒ€ì¸ê´€ê³„ì— ì„¸ì‹¬í•œ ì‹ ê²½ì„ ì“°ë©° ê³ ì§€ì‹í•˜ë‹¤ëŠ” ì´ì•¼ê¸°ë¥¼ ìì£¼ ë“£ê³ ëŠ” í•©ë‹ˆë‹¤.</p>`;
          break;
        case "ë³µìˆ­ì•„":
          labelContainer.childNodes[0].innerHTML = `<h3>ë‹¹ì‹ ì€ ë³µìˆ­ì•„ìƒ!</h3>
                <p>ë‹¹ì‹ ì€ ëŒ€ì²´ë¡œ ì˜¨í™”í•œ ì„±ê²©ì„ ê°€ì¡Œê³  ëˆ„êµ¬ì™€ë„ ì›ë§Œí•œ ì¸ê°„ê´€ê³„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.
ë‹¤ì†Œ ì–¸ì§¢ì€ ì¼ì´ ìˆì–´ë„ í•­ìƒ ì–¼êµ´ì—ëŠ” ë¯¸ì†Œê°€ ë– ë‚˜ì§€ ì•ŠëŠ” ë‹¹ì‹ , ì´ëŸ¬í•œ ì„±ê²© ë•Œë¬¸ì— ì£¼ìœ„ ì‚¬ëŒë“¤ì—ê²Œ í•­ìƒ í‰ì´ ì¢‹ê³  ì ˆëŒ€ ë‚¨ì—ê²Œ ë¯¸ì›€ì„ ë°›ì§€ ì•ŠëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
ë˜í•œ ë§¤ìš° ê°€ì •ì ì´ì–´ì„œ ì§‘ì•ˆì¼ì— ì¶©ì‹¤í•˜ë©° ê·¸ê²ƒì„ ì¦ê¸°ëŠ” ë‹¹ì‹ , ë‹¤ì–‘í•œ ëª¨ì„ì˜ ì‹œê°„ì„ ì¦ê¸°ê³  ê·¸ ì•ˆì—ì„œ ì—ë„ˆì§€ë¥¼ ì¶©ì „í•˜ëŠ”êµ°ìš”? 
í•˜ì§€ë§Œ ë•Œë¡œëŠ” ë„ˆë¬´ ì‚¬ëŒì´ ì¢‹ì•„ ë³´ì—¬ ì†í•´ë¥¼ ë³´ëŠ” ê²½ìš°ë„ ì¢…ì¢… ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”!</p>`;
          break;
        case "ì²´ë¦¬":
          labelContainer.childNodes[0].innerHTML = `<h3>ë‹¹ì‹ ì€ ì²´ë¦¬ìƒ!</h3>
                <p>ë‹¹ì‹ ì€ ì •ì—´ì ì¸ ìŠ¤íƒ€ì¼ë¡œ ëŠ˜ ê°€ìŠ´ì†ì— ë¬´ì—‡ì¸ê°€ ë¶ˆíƒ€ê³  ìˆëŠ” ê¿ˆì´ ê±°ì°½í•œ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.
ìŠ¤ë¦´ì´ë‚˜ ë³€í™”ë¥¼ ì¢‹ì•„í•´ í‹€ì— ë°•íŒ ë“¯í•œ ì‚¶ ì†ì—ì„œì˜ ê¶Œíƒœë¥¼ ê±°ë¶€í•˜ë©°, ë¬´ì—‡ì´ë“ ì§€ í•œë²ˆ ì‹œì‘í•œ ì¼ì€ ì—´ì‹¬íˆ ìµœì„ ì„ ë‹¤í•˜ëŠ” ì ê·¹ì ì¸ íƒ€ì…ì˜ ë‹¹ì‹ ! 
ê·¸ë¦¬ê³  ë‹¹ì‹ ì€ ì•½ê°„ ì‚¬ëŒì„ ìì‹ ë§Œì˜ ê¸°ì¤€ì„ ì •í•´ ê°€ë¦¬ë©´ì„œ ì‚¬ê·€ëŠ” ê²½í–¥ì´ ìˆìœ¼ë©°, ì²«ì¸ìƒ ë§Œìœ¼ë¡œ ì–´ë–¤ ì‚¬ëŒì„ í‰ê°€í•˜ëŠ” ì¼ì´ ì¢…ì¢… ìˆë„¤ìš”! 
í•˜ì§€ë§Œ ë‹¹ì‹ ì˜ ì¥ì ì€ ëª©í‘œí•œ ì¼ì´ ì–´ë ¤ì›€ì— ë¶€ë”ªíˆë”ë¼ë„ í¬ê¸° ì•Šê³  ê³¼ê°í•˜ê²Œ ë°€ê³  ë‚˜ê°€ëŠ” ì¶”ì§„ë ¥ê³¼ ì—´ì •ì— ìˆìŠµë‹ˆë‹¤.</p>`;
          break;
        case "í¬ë„":
          labelContainer.childNodes[0].innerHTML = `<h3>ë‹¹ì‹ ì€ í¬ë„ìƒ!</h3>
                <p>ë‹¹ì‹ ì€ ì™¸ë¡œì›€ì„ ë§ì´ íƒ€ë©°, ìì‹ ì˜ í…Œë‘ë¦¬ ì†ì—ì„œ ë‚˜ì˜¤ê¸°ë¥¼ êº¼ë ¤í•©ë‹ˆë‹¤.
ë°˜ë©´ ë¯¸ì  ê°ê°ì´ë‚˜ ìƒìƒë ¥, ì°½ì˜ë ¥ì€ ëˆ„êµ¬ë³´ë‹¤ë„ í’ë¶€í•˜ë©° ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìì‹ ë§Œì˜ ë…íŠ¹í•œ ê°œì„±ì„ ë°œì „ì‹œì¼œ ë‚˜ì•„ê°‘ë‹ˆë‹¤. 
ë‹¹ì‹ ì€ ë‚¨ë“¤ì´ ê°€ê¹Œì´í•˜ê¸° ì–´ë ¤ì›Œí•˜ëŠ” ì°¨ê°€ìš´ ë©´ì„ ê°€ì§€ê³  ìˆì§€ë§Œ ë§ˆìŒì€ ì •ë§ ë”°ëœ»í•œ ë°˜ì „ ë§¤ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. 
ê²‰ìœ¼ë¡œ ë³´ì´ëŠ” í–‰ë™ê³¼ ë³¸ì‹¬ì´ í¬ê²Œ ì°¨ì´ë‚˜ëŠ” íƒ€ì…ìœ¼ë¡œ ë‹¹ì‹ ì„ ì ì°¨ ì•Œì•„ê°€ëŠ” ì‚¬ëŒë“¤ì€ ì´ëŸ¬í•œ ë‹¹ì‹ ì˜ ë§¤ë ¥ì— ë¹ ì§€ê³  ë§ˆëŠ”ë°ìš”! 
ìƒëŒ€ë°©ê³¼ ê´€ê³„ë¥¼ ë§ºì–´ë‚˜ê°€ëŠ”ë° ê½¤ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ì§€ë§Œ ì¼ë‹¨ ì¹œí•´ì§€ê²Œ ë˜ë©´ ìì‹ ì˜ ëª¨ë“  ê²ƒì„ ì£¼ë ¤ê³  í•˜ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.</p>`;
          break;
      }
      for (let i = 0; i < maxPredictions; i++) {
        const classPrediction =
        prediction[i].className + ": " + Math.round(prediction[i].probability * 100) + "%";
        labelContainer.childNodes[i+1].innerHTML = classPrediction;
      }
      isModelReady = true;
    }
  </script>
  <script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://ingongjineung-gwailsang-teseuteu.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-63fe889387386870"></script>
</body>
</html>
